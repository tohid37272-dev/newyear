<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advance Happy New Year Toma</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Mountains+of+Christmas:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
html,body{
margin:0;
padding:0;
width:100%;
height:100%;
overflow:hidden;
background:radial-gradient(circle at top,#020617,#000);
font-family:'Mountains of Christmas',cursive;
}

#canvas-container{
position:absolute;
top:0;left:0;
width:100%;
height:100%;
}

#ui-layer{
position:absolute;
top:0;left:0;
width:100%;
height:100%;
z-index:10;
pointer-events:none;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
padding:40px;
box-sizing:border-box;
}

h1{
font-family:'Great Vibes',cursive;
font-size:3rem;
margin:0;
margin-top:20px; /* Box ржПрж░ ржирж┐ржЪрзЗ ржерж╛ржХржмрзЗ */
background:linear-gradient(90deg,#facc15,#fb7185,#facc15);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
text-shadow:0 0 25px rgba(251,191,36,.5);
display:none; /* рж╢рзБрж░рзБрждрзЗ hidden */
}

.subtitle{
font-size:1.8rem;
color:#fbbf24; /* Colored for Best Friend */
margin-top:10px;
display:none;
}

.friend-name{
font-family:'Great Vibes',cursive;
font-size:3rem;
color:#fb7185; /* Pinkish */
margin-top:8px;
animation:float 3s ease-in-out infinite;
text-shadow:0 0 30px rgba(251,113,133,.8);
display:none;
}

@keyframes float{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-10px)}
}

.controls{
pointer-events:auto;
margin-top:40px;
display:flex;
flex-direction:column;
align-items:center;
gap:22px;
}

.btn-gift{
background:linear-gradient(135deg,#dc2626,#7f1d1d);
color:#fff;
border:2px solid #fde68a;
padding:20px 60px;
font-size:1.9rem;
border-radius:60px;
cursor:pointer;
box-shadow:0 0 35px rgba(220,38,38,.8);
transition:.4s cubic-bezier(.175,.885,.32,1.275);
}

.btn-gift:hover{
transform:scale(1.15) rotate(-2deg);
box-shadow:0 0 60px rgba(253,230,138,1);
}
</style>
</head>

<body>

<div id="canvas-container"></div>

<div id="ui-layer">
<!-- Box ржПрж░ ржирж┐ржЪрзЗ Advance Happy New Year ржжрзЗржЦрж╛ржмрзЗ -->
<h1>Advance Happy New Year тЬи</h1>
<p class="subtitle">For My Best Friend</p>
<div class="friend-name">Toma ЁЯТЦ</div>

<div class="controls">
<button id="open-btn" class="btn-gift">Open ЁЯОБ</button>
</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
// --- Three.js Setup ---
const scene = new THREE.Scene();
scene.fog = new THREE.FogExp2(0x020617,.03);

const camera = new THREE.PerspectiveCamera(45,innerWidth/innerHeight,.1,100);
camera.position.set(0,5,14);

const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
document.getElementById("canvas-container").appendChild(renderer.domElement);

scene.add(new THREE.AmbientLight(0xffffff,.4));

const moon = new THREE.DirectionalLight(0xaaccff,.9);
moon.position.set(-10,20,10);
scene.add(moon);

const glow = new THREE.PointLight(0xffaa00,0,18);
glow.position.set(0,3,0);
scene.add(glow);

const floor = new THREE.Mesh(
new THREE.PlaneGeometry(100,100),
new THREE.MeshStandardMaterial({color:0xffffff,roughness:.85})
);
floor.rotation.x=-Math.PI/2;
scene.add(floor);

// --- Gift Box ---
const gift = new THREE.Group();
scene.add(gift);

const boxMat = new THREE.MeshStandardMaterial({color:0x991b1b});
const goldMat = new THREE.MeshStandardMaterial({color:0xfacc15,metalness:.9});

const box = new THREE.Mesh(new THREE.BoxGeometry(3.5,2.5,3.5),boxMat);
box.position.y=1.25;
gift.add(box);

const lidGroup = new THREE.Group();
lidGroup.position.y=2.5;
gift.add(lidGroup);

const lid = new THREE.Mesh(new THREE.BoxGeometry(3.7,.3,3.7),boxMat);
lid.position.y=.15;
lidGroup.add(lid);

const bow = new THREE.Mesh(new THREE.TorusKnotGeometry(.6,.18,64,8),goldMat);
bow.position.y=.6;
lidGroup.add(bow);

// --- Tree Surprise ---
const tree = new THREE.Group();
tree.scale.y = 0;
gift.add(tree);

const trunk = new THREE.Mesh(
new THREE.CylinderGeometry(.3,.4,1,16),
new THREE.MeshStandardMaterial({color:0x451a03})
);
trunk.position.y=.5;
tree.add(trunk);

const green = new THREE.MeshStandardMaterial({color:0x166534});
[1.6,2.6,3.6].forEach((y,i)=>{
const cone = new THREE.Mesh(new THREE.ConeGeometry(1.7-i*.4,2,16),green);
cone.position.y=y;
tree.add(cone);
});

const star = new THREE.Mesh(
new THREE.OctahedronGeometry(.45),
new THREE.MeshStandardMaterial({color:0xffff00,emissive:0xffaa00})
);
star.position.y=4.6;
tree.add(star);

// --- Button Animation ---
let opened=false;
const btn=document.getElementById("open-btn");
const friendName=document.querySelector(".friend-name");
const subtitle=document.querySelector(".subtitle");
const h1Text=document.querySelector("h1");

btn.onclick=()=>{
if(opened)return;
opened=true;
btn.style.display="none";
friendName.style.display="block";
subtitle.style.display="block";
h1Text.style.display="block"; // Box ржПрж░ ржирж┐ржЪрзЗ Advance Happy New Year ржжрзЗржЦрж╛ржмрзЗ

const tl=gsap.timeline();
tl.to(camera.position,{z:9,y:6,duration:1.6,ease:"power2.inOut"});
tl.to(lidGroup.position,{y:4.2,z:-1,duration:1},"-=.6");
tl.to(lidGroup.rotation,{x:-Math.PI/4,z:Math.PI/6,duration:1},"<");
tl.to(glow,{intensity:1.8,duration:1});
tl.to(tree.scale,{y:1,duration:1.6,ease:"elastic.out(1,.45)"});
};

// --- Render Loop ---
function animate(){
requestAnimationFrame(animate);
gift.rotation.y+=.0025;
renderer.render(scene,camera);
}
animate();

onresize=()=>{
camera.aspect=innerWidth/innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(innerWidth,innerHeight);
}
</script>

</body>
  </html>
